<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simon's App 😎👍</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#007bff">
</head>

<body>
  <h1>Simon's App 😎👍</h1>

  <!-- === Top Buttons Bar === -->
  <nav id="topBar" aria-label="Main sections">
    <button class="tabBtn" data-target="add-card" aria-controls="add-card" aria-expanded="false">➕ Add</button>
    <button class="tabBtn" data-target="themes" aria-controls="themes" aria-expanded="false">🎨 Themes</button>
    <button class="tabBtn" data-target="library" aria-controls="library" aria-expanded="false">🗂️ My Cards</button>
    <button class="tabBtn" data-target="coreWords" aria-controls="coreWords" aria-expanded="false">💬 Core Words</button>
    <button class="tabBtn" data-target="sentence" aria-controls="sentence" aria-expanded="false">🧱 Build</button>
  </nav>

  <!-- Section 1: Add a New Card -->
  <section id="add-card" class="panel">
    <h2>Add a New Card</h2>
    <button class="panelClose" data-close="add-card" aria-label="Close panel">✖</button>
    <input type="file" id="imageInput" accept="image/*" capture="environment">
    <input type="text" id="textInput" placeholder="Enter word or phrase">
    <button id="recordBtn">🎤 Record</button>
    <button id="stopBtn" disabled>⏹️ Stop</button>
    <audio id="previewAudio" controls></audio><br>
    <button id="addBtn">Add Card</button>
  </section>

  <!-- Section 2: Themed Cards -->
  <section id="themes" class="panel">
    <h2>Choose a Theme</h2>
    <button class="panelClose" data-close="themes" aria-label="Close panel">✖</button>
    <div id="themeButtons">
      <button class="themeBtn" data-theme="food">🍎 Food</button>
      <button class="themeBtn" data-theme="clothes">👕 Clothes</button>
      <button class="themeBtn" data-theme="places">🏠 Places</button>
      <button class="themeBtn" data-theme="people">🧍 People</button>
      <button class="themeBtn" data-theme="colours">🎨 Colours</button>
      <button class="themeBtn" data-theme="vehicles">🚗 Vehicles</button>
      <button class="themeBtn" data-theme="feelings">😊 Feelings</button>
      <button class="themeBtn" data-theme="animals">🐾 Animals</button>
    </div>
    <div id="themeContainer"></div>
  </section>

  <!-- Section 3: Custom Cards -->
  <section id="library" class="panel">
    <h2>My Cards</h2>
    <button class="panelClose" data-close="library" aria-label="Close panel">✖</button>
    <div id="cardContainer"></div>
  </section>

  <!-- Section 4: Core Words -->
  <section id="coreWords" class="panel">
    <h2>Core Words</h2>
    <button class="panelClose" data-close="coreWords" aria-label="Close panel">✖</button>
    <div id="coreContainer"></div>
  </section>

  <footer id="appFooter">
    Made with love for my baby Simon ❤️
  </footer>

  <!-- Section 5: Build Sentence (Sticky Dock) -->
  <section id="sentence" class="panel dock">
    <h2>Build Sentence</h2>
    <button class="panelClose" data-close="sentence" aria-label="Close panel">✖</button>
    <div id="sentenceArea" class="dropzone"></div>
    <div class="dock-buttons">
      <button id="playAll">▶️ Play All</button>
      <button id="clearSentence">🗑️ Clear</button>
    </div>
    <p id="removeHint">Tip: double-tap a card or press X to remove it.</p>
  </section>

  <!-- Scripts -->
  <script src="script.js?v=22"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker Registered"))
        .catch(err => console.error("SW registration failed:", err));
    }
  </script>
</body>
</html>

