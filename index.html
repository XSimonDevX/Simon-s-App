<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simon’s App 😎👍</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Manifest + Icons -->
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <link rel="icon" sizes="192x192" href="icons/icon-192.png" />
  <link rel="icon" sizes="512x512" href="icons/icon-512.png" />
  <meta name="theme-color" content="#007bff" />
</head>
<body>
  <header>
    <h1>Simon’s App 😎👍</h1>
  </header>

  <nav id="topBar" aria-label="Main sections">
    <div class="topBar-inner">
      <button class="tabBtn" data-target="add-card"><span class="emoji">➕</span><span class="label">Add</span></button>
      <button class="tabBtn" data-target="themes"><span class="emoji">🍩</span><span class="label">Themes</span></button>
      <button class="tabBtn" data-target="library"><span class="emoji">📁</span><span class="label">My Cards</span></button>
      <button class="tabBtn" data-target="coreWords"><span class="emoji">💬</span><span class="label">Core Words</span></button>
      <button class="tabBtn" data-target="sentence"><span class="emoji">🧱</span><span class="label">Build</span></button>
      <button class="tabBtn" data-target="play"><span class="emoji">🎮</span><span class="label">Play</span></button>
    </div>
  </nav>

  <!-- === PANELS === -->
  <section id="add-card" class="panel">
    <h2>Add a New Card</h2>
    <button class="panelClose" data-close="add-card">✖</button>
    <input type="file" id="imageInput" accept="image/*" capture="environment" />
    <input type="text" id="textInput" placeholder="Enter word or phrase" />
    <button id="recordBtn">🎤 Record</button>
    <button id="stopBtn" disabled>⏹️ Stop</button>
    <audio id="previewAudio" controls></audio><br />
    <button id="addBtn">Add Card</button>
  </section>

  <section id="themes" class="panel">
    <h2>Choose a Theme</h2>
    <button class="panelClose" data-close="themes">✖</button>
    <div id="themeContainer"></div>
  </section>

  <section id="library" class="panel">
    <h2>My Cards</h2>
    <button class="panelClose" data-close="library">✖</button>
    <div id="cardContainer"></div>
  </section>

  <section id="coreWords" class="panel">
    <h2>Core Words</h2>
    <button class="panelClose" data-close="coreWords">✖</button>
    <div id="coreContainer"></div>
  </section>

  <!-- Build Sentence Panel -->
  <section id="sentence" class="panel">
    <h2>Build a Sentence</h2>
    <button class="panelClose" data-close="sentence">✖</button>

    <!-- Quick words ribbon -->
    <div id="quickWords">
      <div class="qw-head">
        <strong>Quick words</strong>
        <button id="togglePicker" type="button">More…</button>
      </div>
      <div id="quickStrip" class="qw-strip"></div>
    </div>

    <!-- Picker drawer -->
    <div id="builderPicker" class="picker hidden" aria-hidden="true">
      <div class="picker-bar">
        <div class="picker-tabs">
          <button class="pickTab active" data-tab="core">Core</button>
          <button class="pickTab" data-tab="themes">Themes</button>
          <button class="pickTab" data-tab="cards">My Cards</button>
        </div>
        <button id="closePicker" class="picker-close" type="button">✖</button>
      </div>

      <!-- Theme buttons -->
      <div id="pickerThemeButtons" class="miniThemeBtns"></div>

      <!-- Grid -->
      <div id="pickerGrid" class="picker-grid"></div>
    </div>

    <div id="sentenceArea" class="dropzone"></div>
    <div class="sentenceControls">
      <button id="playAll">▶️ Play All</button>
      <button id="clearSentence">🗑️ Clear</button>
    </div>
  </section>

  <footer>
    <p>Made with love for my baby Simon ❤️</p>
  </footer>

  <!-- Register service worker (no query string) -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js');
      });
    }
  </script>

  <!-- Main JS (no query string) -->
  <script src="script.js" defer></script>
</body>
</html>
